@import url('https://fonts.googleapis.com/css?family=Orbitron&display=swap');
$black: #070708;
@function alphaRandom(){
  @return random(1000)*.001;
}
@function stars($s, $max-area, $min-area : 0, $star-size : 0){
  $stars : #{$min-area + random($max-area)}px #{$min-area + random($max-area)}px 0 #{$star-size}px rgba(255,255,255, alphaRandom()); 
  @for $i from 1 to $s{
    $stars: '#{$stars} , #{$min-area + random($max-area)}px #{$min-area + random($max-area)}px 0 #{$star-size}px rgba(255,255,255, #{alphaRandom()})'
  }
  @return unquote($stars);
}
.stars{
    width:100%;
    height:100%;
    position:absolute;
    overflow:hidden;
    background-color:black;
    z-index: -1;
    top:0px;
    left:0;
    &:after{
        content:"";
        position:absolute;
        height:2px;
        width:2px;
        left:0px;
        top:0px;
        background:white;
        box-shadow: stars(500, 1800px);
      }
}
section{
    margin:30px;
    font-family: 'Orbitron', sans-serif;
}

#ti-score-tracker{
    position: relative;
    width:100%;
    display:flex;
    flex-flow:row wrap;
    //justify-content: center;
    height: 100px; //TODO BW: Remove after better css
    overflow:hidden;
    color:#ffffff;
    #score-marker{
        position: absolute;
        width:100px;
        height:30px;
        z-index:2;
        left:0;
        float:left;
        &.green{
            background-color: green;
        }
    }
    .number{
        flex-grow: 1;
        display:flex;
        align-items: center;
        justify-content: center;
        text-align:center;
        border:1px solid #e63838;
        filter: drop-shadow( 0px 0px 10px #d41010);
        font-size:20px;
        font-weight:900;
        color:#e63838;
        box-shadow: inset 0px 0px 10px 3px rgba(230, 56, 56, 0.5);
        &:first-child{
            border-radius:10px 0 0 10px;
        }
        &:last-child{
            border-radius:0 10px 10px 0;
        }
    }
}


.obj-cards{
    width:100%;
    display:flex;
    flex-flow:row wrap;
    justify-content: space-between;
    %card-shared{
        flex-grow: 1;
        text-align:center;
        border-radius:10px;
        max-width:200px;
        max-height:350px;
        color:#ffffff;
        overflow: hidden;
        padding:4px;
        //background-color:black;
        position: relative;
        .stars{
            width:100%;
            height:100%;
            margin:-4px;
            position:absolute;
            overflow:hidden;
            background-color:black;
            z-index: -1;
            &:after{
                content:"";
                position:absolute;
                height:2px;
                width:2px;
                left:0px;
                top:0px;
                background:white;
                box-shadow: stars(500, 300px);
                border-radius:100px;
              }
        }
        .card-objs{
            z-index:2;
            .card-header{
                font-weight: 900;
                font-size:16px;
                line-height:20px;
                display: flex;
                position: relative;
                text-transform: uppercase;
                height:60px;
                padding:10px 20px;
                //margin:-10px -10px 0;
                align-items: center;
                z-index:2;
                border-radius:10px;
                clip-path: polygon(20% 0%, 89% 0, 100% 0, 100% 90%, 90% 100%, 10% 100%, 0% 90%, 0 0);
                margin-bottom:4px;
                background-color:rgba( $black, .65 );
                box-shadow: inset 0px 0px 20px 10px rgba(0,0,0,0.75);
            }
            .card-body{
                font-weight: 600;
                font-size:16px;
                line-height:20px;
                color:#ffffff;
                display: flex;
                position: relative;
                padding:20px;
                align-items: center;
                clip-path: polygon(10% 0, 90% 0, 100% 10%, 100% 90%, 90% 100%, 10% 100%, 0 90%, 0 10%);
                margin-bottom:40px;
                background-color:rgba( $black, .65 );
                box-shadow: inset 0px 0px 20px 10px rgba(0,0,0,0.75);

            }
            .points{
                font-weight: 600;
                font-size:20px;
                color:#ffffff;
                border-radius: 50%;
                width:60px;
                height:60px;
                line-height:60px;
                margin:0 auto;
                bottom:16px;
                left:50%;
                transform: translateX(-50%);
                position: absolute;
                background-color:rgba( $black, .65 );
                box-shadow: inset 0px 0px 20px 10px rgba(0,0,0,0.75);

            }
            .card-footer{
                font-weight: 600;
                font-size:12px;
                color:#ffffff;
                height:20px;
                line-height:20px;
                padding:4px 20px;
                align-items: center;
                z-index:2;
                background-color:rgba( $black, .85 );
                text-align: center;
                clip-path: polygon(10% 0, 90% 0, 100% 100%, 0% 100%);
                border-radius:10px;
                text-transform: uppercase;
            }
        }
    }
    &.stage-one {
        .card{
            filter: drop-shadow( 0px 0px 10px #EEA41D);
            @extend %card-shared;
            .card-objs{
                filter: drop-shadow( 0px 0px 10px #EEA41D);
            }
            
        }
    }
    &.stage-two{
        .card{
            filter: drop-shadow( 0px 0px 10px #0088C9);
            @extend %card-shared;
            .card-objs{
                filter: drop-shadow( 0px 0px 10px #0088C9);
            }
        }
    
    }
}

.overlay{
    position: absolute;
    background-color: rgba(0,0,0,0.75);
    height:100%;
    width:100%;
    top:0;
    left:0;
}
#window{
    width:500px;
    height:500px;
    color:#ffffff;
    position: absolute;
    top:10%;
    left:50%;
    transform:translateX(-50%);
    overflow:hidden;
    .wrap{
        padding:24px;
        .close-btn{
            position: absolute;
            top:0;
            right:0;
            height:40px;
            width:40px;
            line-height:40px;
            text-align: center;
            background-color:$black;
            color:#ffffff;
            border:none;
            font-size:16px;
        }
    }
    &:after {
        content: '';
        position: absolute;
        width: 1100%; height: 1100%;
        top: 20px; right: -500%;
        background: $black;
        transform-origin: 54% 0;
        transform: rotate(45deg);
        z-index: -1;
      }
}